/* Mobile-first styles for field usage */

/* Safe area support for iOS devices */
:root {
  --safe-area-inset-top: env(safe-area-inset-top);
  --safe-area-inset-right: env(safe-area-inset-right);
  --safe-area-inset-bottom: env(safe-area-inset-bottom);
  --safe-area-inset-left: env(safe-area-inset-left);
}

.safe-area-inset-bottom {
  padding-bottom: max(1rem, var(--safe-area-inset-bottom));
}

.safe-area-inset-top {
  padding-top: max(1rem, var(--safe-area-inset-top));
}

/* Base mobile optimizations */
@media (max-width: 768px) {
  /* Touch target optimization - minimum 44px for accessibility */
  .mobile-touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Enhanced button styles for outdoor visibility */
  .mobile-btn {
    @apply px-6 py-4 text-lg font-semibold rounded-lg shadow-lg;
    min-height: 48px;
    min-width: 120px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  .mobile-btn-primary {
    @apply bg-blue-600 hover:bg-blue-700 text-white;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .mobile-btn-success {
    @apply bg-green-600 hover:bg-green-700 text-white;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .mobile-btn-danger {
    @apply bg-red-600 hover:bg-red-700 text-white;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .mobile-btn-secondary {
    @apply bg-gray-200 hover:bg-gray-300 text-gray-800 border-2 border-gray-300;
  }

  /* Enhanced input fields for gloved hands */
  .mobile-input {
    @apply px-4 py-4 text-lg border-2 rounded-lg shadow-sm;
    min-height: 48px;
    font-size: 18px;
    line-height: 1.4;
  }

  .mobile-input:focus {
    @apply border-blue-500 ring-2 ring-blue-200;
    outline: none;
  }

  /* Enhanced select dropdowns */
  .mobile-select {
    @apply px-4 py-4 text-lg border-2 rounded-lg shadow-sm bg-white;
    min-height: 48px;
    font-size: 18px;
    appearance: none;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 12px center;
    background-repeat: no-repeat;
    background-size: 16px;
    padding-right: 48px;
  }

  /* Enhanced textarea */
  .mobile-textarea {
    @apply px-4 py-4 text-lg border-2 rounded-lg shadow-sm;
    min-height: 96px;
    font-size: 18px;
    line-height: 1.4;
    resize: vertical;
  }

  /* Enhanced form sections with better spacing */
  .mobile-form-section {
    @apply mb-8 p-4 bg-white rounded-lg shadow-sm;
  }

  .mobile-form-field {
    @apply mb-6;
  }

  .mobile-form-label {
    @apply block text-gray-800 text-lg font-semibold mb-3;
    font-size: 18px;
  }

  /* Enhanced cards for better touch interaction */
  .mobile-card {
    @apply bg-white rounded-lg shadow-md p-6 mb-4;
    min-height: 60px;
    touch-action: manipulation;
  }

  .mobile-card:active {
    @apply shadow-lg;
    transform: translateY(-1px);
  }

  /* Improved list items */
  .mobile-list-item {
    @apply flex items-center justify-between p-4 bg-white border-b border-gray-200;
    min-height: 60px;
    touch-action: manipulation;
  }

  .mobile-list-item:last-child {
    @apply border-b-0;
  }

  .mobile-list-item:active {
    @apply bg-gray-50;
  }

  /* Quick action floating button */
  .mobile-fab {
    @apply fixed bottom-6 right-6 w-16 h-16 bg-green-600 text-white rounded-full shadow-lg;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  .mobile-fab:hover {
    @apply bg-green-700;
  }

  .mobile-fab:active {
    transform: scale(0.95);
  }

  /* Enhanced navigation for mobile */
  .mobile-nav-item {
    @apply block py-4 px-6 text-white hover:bg-blue-700 rounded;
    min-height: 52px;
    font-size: 16px;
    touch-action: manipulation;
  }

  /* Field-optimized colors for better outdoor visibility */
  .field-bg-primary {
    background-color: #1e3a8a; /* Deeper blue for better contrast */
  }

  .field-bg-success {
    background-color: #166534; /* Deeper green */
  }

  .field-bg-warning {
    background-color: #d97706; /* High contrast orange */
  }

  .field-bg-danger {
    background-color: #dc2626; /* High contrast red */
  }

  /* High contrast text for outdoor readability */
  .field-text-high-contrast {
    color: #111827;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
  }

  /* Enhanced form headers */
  .mobile-form-header {
    @apply text-2xl font-bold mb-6 text-gray-900;
    text-align: center;
  }

  /* Improved spacing for form groups */
  .mobile-form-group {
    @apply space-y-6;
  }

  /* Enhanced checkbox and radio buttons */
  .mobile-checkbox, .mobile-radio {
    width: 20px;
    height: 20px;
    margin-right: 12px;
  }

  /* Loading state optimization */
  .mobile-loading {
    @apply flex items-center justify-center p-8;
  }

  .mobile-loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600;
  }

  /* Error and success messages */
  .mobile-alert {
    @apply p-4 rounded-lg mb-4 text-lg font-medium;
  }

  .mobile-alert-error {
    @apply bg-red-100 border-2 border-red-400 text-red-800;
  }

  .mobile-alert-success {
    @apply bg-green-100 border-2 border-green-400 text-green-800;
  }

  .mobile-alert-warning {
    @apply bg-yellow-100 border-2 border-yellow-400 text-yellow-800;
  }

  /* Table optimization for mobile */
  .mobile-table-container {
    @apply overflow-x-auto;
    -webkit-overflow-scrolling: touch;
  }

  .mobile-table {
    @apply min-w-full;
  }

  .mobile-table th,
  .mobile-table td {
    @apply py-4 px-3 text-left;
    min-width: 120px;
  }

  /* Quick action buttons for common tasks */
  .mobile-quick-action {
    @apply flex items-center justify-center w-20 h-20 bg-blue-600 text-white rounded-xl shadow-lg m-2;
    touch-action: manipulation;
  }

  .mobile-quick-action:active {
    transform: scale(0.95);
  }

  /* Improved sidebar for mobile */
  .mobile-sidebar {
    @apply fixed inset-y-0 left-0 z-50 w-80 bg-blue-800;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
  }

  .mobile-sidebar.open {
    transform: translateX(0);
  }

  /* Dark overlay for sidebar */
  .mobile-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 z-40;
  }

  /* Better spacing for mobile forms */
  .mobile-container {
    @apply px-4 py-6;
  }

  /* Enhanced search bar */
  .mobile-search {
    @apply w-full px-4 py-3 text-lg border-2 border-gray-300 rounded-lg;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z'/%3e%3c/svg%3e");
    background-position: left 12px center;
    background-repeat: no-repeat;
    background-size: 20px;
    padding-left: 48px;
  }
}

/* Landscape orientation optimizations */
@media (max-width: 768px) and (orientation: landscape) {
  .mobile-form-section {
    @apply mb-4 p-3;
  }

  .mobile-form-field {
    @apply mb-4;
  }

  .mobile-btn {
    @apply px-4 py-3 text-base;
    min-height: 40px;
  }
}

/* Extra small devices optimization */
@media (max-width: 480px) {
  .mobile-container {
    @apply px-2 py-4;
  }

  .mobile-form-section {
    @apply p-3;
  }

  .mobile-btn {
    @apply w-full mb-3;
  }

  .mobile-quick-action {
    @apply w-16 h-16 m-1;
  }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  .mobile-fab,
  .mobile-quick-action,
  .mobile-card {
    transition: none;
  }

  .mobile-fab:active,
  .mobile-quick-action:active {
    transform: none;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .mobile-btn-primary {
    @apply border-2 border-white;
  }

  .mobile-input,
  .mobile-select,
  .mobile-textarea {
    @apply border-4 border-gray-800;
  }
}